# ============================================
# Environment Variables - Production Template
# ============================================
# Copie este arquivo para .env.production e preencha com valores reais
# NUNCA commite .env.production no Git!
# ============================================

# ============================================
# General
# ============================================
NODE_ENV=production
VERSION=1.0.0

# ============================================
# Docker Registry
# ============================================
DOCKER_REGISTRY=ghcr.io
DOCKER_NAMESPACE=mycompany
DOCKER_USERNAME=
DOCKER_PASSWORD=

# ============================================
# Database - PostgreSQL
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=monorepo_prod
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# Connection string completa
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public

# ============================================
# Redis Cache
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
# Deixe vazio se não usar senha em desenvolvimento
# Em produção, defina uma senha forte

# ============================================
# Backend API
# ============================================
BACKEND_PORT=3000
API_URL=https://api.yourdomain.com

# JWT Authentication
JWT_SECRET=CHANGE_ME_VERY_LONG_RANDOM_STRING_AT_LEAST_64_CHARS
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# CORS
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/app/uploads

# ============================================
# Frontend Web
# ============================================
WEB_PORT=3001
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# Next.js
NEXT_TELEMETRY_DISABLED=1
NEXT_SHARP_PATH=/app/node_modules/sharp

# ============================================
# Email Service (Opcional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_NAME=YourApp
SMTP_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# OAuth / Social Login (Opcional)
# ============================================
# Google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=https://api.yourdomain.com/auth/google/callback

# GitHub
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=https://api.yourdomain.com/auth/github/callback

# ============================================
# Storage / S3 (Opcional)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_CLOUDFRONT_URL=

# ============================================
# Monitoring / APM (Opcional)
# ============================================
# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# New Relic
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=monorepo-prod

# DataDog
DD_API_KEY=
DD_APP_KEY=
DD_ENV=production

# ============================================
# Logging
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/app

# ============================================
# Feature Flags (Opcional)
# ============================================
FEATURE_NEW_UI=false
FEATURE_BETA_ACCESS=false
FEATURE_ANALYTICS=true

# ============================================
# CDN / Assets (Opcional)
# ============================================
CDN_URL=https://cdn.yourdomain.com
ASSETS_URL=https://assets.yourdomain.com

# ============================================
# Payment Gateway (Opcional)
# ============================================
# Stripe
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# PayPal
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=live

# ============================================
# Security
# ============================================
# Encryption
ENCRYPTION_KEY=CHANGE_ME_32_CHARS_MINIMUM
ENCRYPTION_ALGORITHM=aes-256-gcm

# Session
SESSION_SECRET=CHANGE_ME_LONG_RANDOM_STRING

# API Keys
API_KEY_HEADER=X-API-Key
API_KEY_SECRET=CHANGE_ME_RANDOM_API_KEY

# ============================================
# Performance
# ============================================
# Node.js
UV_THREADPOOL_SIZE=16
NODE_OPTIONS=--max-old-space-size=2048

# Cache TTL (segundos)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# ============================================
# Database Connection Pool
# ============================================
DB_POOL_MIN=2
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=10000
DB_POOL_CONNECTION_TIMEOUT=30000

# ============================================
# Backup
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=

# ============================================
# Health Checks
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30

# ============================================
# Deployment
# ============================================
SKIP_TESTS=false
DRY_RUN=false
DEPLOY_ENVIRONMENT=production

# ============================================
# Timezone
# ============================================
TZ=UTC

# ============================================
# PowerSync (Self-hosted)
# ============================================
# API token for PowerSync admin operations
POWERSYNC_API_TOKEN=CHANGE_ME_RANDOM_TOKEN
# Port for PowerSync service
POWERSYNC_PORT=8080
